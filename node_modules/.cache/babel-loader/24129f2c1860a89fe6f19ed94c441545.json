{"ast":null,"code":"import _regeneratorRuntime from\"/home/user/Desktop/Projects/React/adopt-a-pet-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/user/Desktop/Projects/React/adopt-a-pet-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/user/Desktop/Projects/React/adopt-a-pet-starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useMemo}from'react';import Hero from'../../components/hero';import{getPets}from'../../api/petfinder';import Pet from'../../components/pet';import{useLocation}from'react-router-dom';// import useLocation here\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchPage=function SearchPage(){// Get the search value from useLocation() here\nvar _useLocation=useLocation(),search=_useLocation.search;var queryParams=useMemo(function(){return new URLSearchParams(search);},[search]);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pets=_useState2[0],setPets=_useState2[1];useEffect(function(){function getPetsData(){return _getPetsData.apply(this,arguments);}function _getPetsData(){_getPetsData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var petNameToFind,petsData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:petNameToFind=queryParams.get('name');_context.next=3;return getPets('',petNameToFind);case 3:petsData=_context.sent;setPets(petsData);case 5:case\"end\":return _context.stop();}}},_callee);}));return _getPetsData.apply(this,arguments);}getPetsData();},[queryParams]);return/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(Hero,{displayText:\"Results for \".concat(queryParams.get('name'))}),/*#__PURE__*/_jsx(\"h3\",{children:\"Pets available for adoption near you\"}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"grid\",children:pets.map(function(pet){return/*#__PURE__*/_jsx(Pet,{animal:pet},pet.id);})})})]});};export default SearchPage;","map":{"version":3,"sources":["/home/user/Desktop/Projects/React/adopt-a-pet-starter/src/pages/search/index.js"],"names":["React","useState","useEffect","useMemo","Hero","getPets","Pet","useLocation","SearchPage","search","queryParams","URLSearchParams","pets","setPets","getPetsData","petNameToFind","get","petsData","map","pet","id"],"mappings":"igBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,OAArC,KAAoD,OAApD,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,CACA,OAASC,OAAT,KAAwB,qBAAxB,CACA,MAAOC,CAAAA,GAAP,KAAgB,sBAAhB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA;wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CAEvB;AAEA,iBAAiBD,WAAW,EAA5B,CAAOE,MAAP,cAAOA,MAAP,CAEA,GAAMC,CAAAA,WAAW,CAAGP,OAAO,CAAC,UAAM,CAChC,MAAO,IAAIQ,CAAAA,eAAJ,CAAoBF,MAApB,CAAP,CACD,CAF0B,CAExB,CAACA,MAAD,CAFwB,CAA3B,CAIA,cAAwBR,QAAQ,CAAC,EAAD,CAAhC,wCAAOW,IAAP,eAAaC,OAAb,eAEAX,SAAS,CAAC,UAAM,SACCY,CAAAA,WADD,2IACd,8JACQC,aADR,CACwBL,WAAW,CAACM,GAAZ,CAAgB,MAAhB,CADxB,uBAEyBX,CAAAA,OAAO,CAAC,EAAD,CAAKU,aAAL,CAFhC,QAEQE,QAFR,eAIEJ,OAAO,CAACI,QAAD,CAAP,CAJF,sDADc,8CAQdH,WAAW,GACZ,CATQ,CASN,CAACJ,WAAD,CATM,CAAT,CAWA,mBACE,aAAK,SAAS,CAAC,MAAf,wBACE,KAAC,IAAD,EAAM,WAAW,uBAAiBA,WAAW,CAACM,GAAZ,CAAgB,MAAhB,CAAjB,CAAjB,EADF,cAGE,4DAHF,cAKE,mCACE,YAAK,SAAS,CAAC,MAAf,UACGJ,IAAI,CAACM,GAAL,CAAS,SAACC,GAAD,qBACR,KAAC,GAAD,EAAK,MAAM,CAAEA,GAAb,EAAuBA,GAAG,CAACC,EAA3B,CADQ,EAAT,CADH,EADF,EALF,GADF,CAeD,CAtCD,CAwCA,cAAeZ,CAAAA,UAAf","sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport Hero from '../../components/hero';\nimport { getPets } from '../../api/petfinder';\nimport Pet from '../../components/pet';\nimport { useLocation } from 'react-router-dom';\n\n// import useLocation here\n\nconst SearchPage = () => {\n\n  // Get the search value from useLocation() here\n\n  const {search} = useLocation();\n\n  const queryParams = useMemo(() => { \n    return new URLSearchParams(search);\n  }, [search]);\n\n  const [pets, setPets] = useState([]);\n\n  useEffect(() => {\n    async function getPetsData() {\n      const petNameToFind = queryParams.get('name');\n      const petsData = await getPets('', petNameToFind);\n\n      setPets(petsData);\n    }\n\n    getPetsData();\n  }, [queryParams]);\n\n  return (\n    <div className=\"page\">\n      <Hero displayText={`Results for ${queryParams.get('name')}`} />\n\n      <h3>Pets available for adoption near you</h3>\n\n      <main>\n        <div className=\"grid\">\n          {pets.map((pet) => (\n            <Pet animal={pet} key={pet.id} />\n          ))}\n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default SearchPage;\n"]},"metadata":{},"sourceType":"module"}